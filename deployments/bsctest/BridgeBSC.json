{
  "address": "0x2BCF4FC25861F7af87307997A2c953c416c8A718",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "date",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        },
        {
          "indexed": true,
          "internalType": "enum BridgeBase.Step",
          "name": "step",
          "type": "uint8"
        }
      ],
      "name": "Transfer",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        }
      ],
      "name": "burn",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "nonce",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "signature",
          "type": "bytes"
        }
      ],
      "name": "mint",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "processedNonces",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "token",
      "outputs": [
        {
          "internalType": "contract IToken",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0x7c145fd80a68b27304d4c94e7d5366031b2ab9e22fa9cad0659e08055e723c74",
  "receipt": {
    "to": null,
    "from": "0x207ca4370639120f9A049aF9CAB4fCaa608F2445",
    "contractAddress": "0x2BCF4FC25861F7af87307997A2c953c416c8A718",
    "transactionIndex": 0,
    "gasUsed": "523542",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xaf0f3a07b5ffb25a4a9830f194570761a9213d727ebd75c545a03a2cec30d51c",
    "transactionHash": "0x7c145fd80a68b27304d4c94e7d5366031b2ab9e22fa9cad0659e08055e723c74",
    "logs": [],
    "blockNumber": 14163714,
    "cumulativeGasUsed": "523542",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x5889f8d3235FAEcC7666f770126E28aD91E9ECE2"
  ],
  "solcInputHash": "189c5fecc579d614467d50e98912d2de",
  "metadata": "{\"compiler\":{\"version\":\"0.7.6+commit.7338295f\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"date\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"},{\"indexed\":true,\"internalType\":\"enum BridgeBase.Step\",\"name\":\"step\",\"type\":\"uint8\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"}],\"name\":\"burn\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"}],\"name\":\"mint\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"processedNonces\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"token\",\"outputs\":[{\"internalType\":\"contract IToken\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/BridgeBSC.sol\":\"BridgeBSC\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/BridgeBSC.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity >=0.6.0 <0.8.0;\\n\\nimport \\\"./BridgeBase.sol\\\";\\n\\ncontract BridgeBSC is BridgeBase {\\n    constructor(address token) BridgeBase(token) {}\\n}\\n\",\"keccak256\":\"0x4973b913eb99ea8141f899477ce417fe265574368e2853dfffb7c9355abd841e\",\"license\":\"MIT\"},\"contracts/BridgeBase.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity >=0.6.0 <0.8.0;\\n\\nimport \\\"./IToken.sol\\\";\\n\\ncontract BridgeBase {\\n    address public owner;\\n    IToken public token;\\n    mapping(address => mapping(uint256 => bool)) public processedNonces;\\n\\n    enum Step {\\n        Burn,\\n        Mint\\n    }\\n\\n    event Transfer(\\n        address from,\\n        address to,\\n        uint256 amount,\\n        uint256 date,\\n        uint256 nonce,\\n        bytes signature,\\n        Step indexed step\\n    );\\n\\n    constructor(address _token) {\\n        owner = msg.sender;\\n        token = IToken(_token);\\n    }\\n\\n    function burn(\\n        address to,\\n        uint256 amount,\\n        uint256 nonce,\\n        bytes calldata signature\\n    ) external {\\n        require(\\n            processedNonces[msg.sender][nonce] == false,\\n            \\\"TRANSFER_ALREADY_PROCESSED\\\"\\n        );\\n        processedNonces[msg.sender][nonce] = true;\\n        token.burn(msg.sender, amount);\\n        emit Transfer(\\n            msg.sender,\\n            to,\\n            amount,\\n            block.timestamp,\\n            nonce,\\n            signature,\\n            Step.Burn\\n        );\\n    }\\n\\n    function mint(\\n        address from,\\n        address to,\\n        uint256 amount,\\n        uint256 nonce,\\n        bytes calldata signature\\n    ) external {\\n        bytes32 message = prefixed(\\n            keccak256(abi.encodePacked(from, to, amount, nonce))\\n        );\\n        require(recoverSigner(message, signature) == from, \\\"WRONG_SIGNATURE\\\");\\n        require(\\n            processedNonces[from][nonce] == false,\\n            \\\"TRANSFER_ALREADY_PROCESSED\\\"\\n        );\\n        processedNonces[from][nonce] = true;\\n        token.mint(to, amount);\\n        emit Transfer(\\n            from,\\n            to,\\n            amount,\\n            block.timestamp,\\n            nonce,\\n            signature,\\n            Step.Mint\\n        );\\n    }\\n\\n    function prefixed(bytes32 hash) internal pure returns (bytes32) {\\n        return\\n            keccak256(\\n                abi.encodePacked(\\\"\\\\x19Ethereum Signed Message:\\\\n32\\\", hash)\\n            );\\n    }\\n\\n    function recoverSigner(bytes32 message, bytes memory sig)\\n        internal\\n        pure\\n        returns (address)\\n    {\\n        uint8 v;\\n        bytes32 r;\\n        bytes32 s;\\n\\n        (v, r, s) = splitSignature(sig);\\n\\n        return ecrecover(message, v, r, s);\\n    }\\n\\n    function splitSignature(bytes memory sig)\\n        internal\\n        pure\\n        returns (\\n            uint8,\\n            bytes32,\\n            bytes32\\n        )\\n    {\\n        require(sig.length == 65);\\n\\n        bytes32 r;\\n        bytes32 s;\\n        uint8 v;\\n\\n        assembly {\\n            // first 32 bytes, after the length prefix\\n            r := mload(add(sig, 32))\\n            // second 32 bytes\\n            s := mload(add(sig, 64))\\n            // final byte (first byte of the next 32 bytes)\\n            v := byte(0, mload(add(sig, 96)))\\n        }\\n\\n        return (v, r, s);\\n    }\\n}\\n\",\"keccak256\":\"0xa288a653756a3c429c05e85dd08a672b05312d00c15e7422fa9925935891f7e2\",\"license\":\"MIT\"},\"contracts/IToken.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity >=0.6.0 <0.8.0;\\n\\ninterface IToken {\\n    function mint(address account, uint256 amount) external;\\n\\n    function burn(address account, uint256 amount) external;\\n}\\n\",\"keccak256\":\"0x920ed1105b0ff7d5a2de6133aba6ebc95b3bb24622ccb776c0bb0a45d3c11b4a\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b5060405161082c38038061082c8339818101604052602081101561003357600080fd5b5051600080546001600160a01b03199081163317909155600180546001600160a01b03909316929091169190911790556107ba806100726000396000f3fe608060405234801561001057600080fd5b50600436106100575760003560e01c8063525557021461005c5780637cc70240146100f35780638a94b05f146101335780638da5cb5b146101bf578063fc0c546a146101e3575b600080fd5b6100f1600480360360a081101561007257600080fd5b6001600160a01b03823581169260208101359091169160408201359160608101359181019060a0810160808201356401000000008111156100b257600080fd5b8201836020820111156100c457600080fd5b803590602001918460018302840111640100000000831117156100e657600080fd5b5090925090506101eb565b005b61011f6004803603604081101561010957600080fd5b506001600160a01b03813516906020013561049a565b604080519115158252519081900360200190f35b6100f16004803603608081101561014957600080fd5b6001600160a01b03823516916020810135916040820135919081019060808101606082013564010000000081111561018057600080fd5b82018360208201111561019257600080fd5b803590602001918460018302840111640100000000831117156101b457600080fd5b5090925090506104ba565b6101c7610663565b604080516001600160a01b039092168252519081900360200190f35b6101c7610672565b600061024c8787878760405160200180856001600160a01b031660601b8152601401846001600160a01b031660601b815260140183815260200182815260200194505050505060405160208183030381529060405280519060200120610681565b9050866001600160a01b03166102988285858080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152506106d292505050565b6001600160a01b0316146102e5576040805162461bcd60e51b815260206004820152600f60248201526e57524f4e475f5349474e415455524560881b604482015290519081900360640190fd5b6001600160a01b038716600090815260026020908152604080832087845290915290205460ff161561035e576040805162461bcd60e51b815260206004820152601a60248201527f5452414e534645525f414c52454144595f50524f434553534544000000000000604482015290519081900360640190fd5b6001600160a01b038088166000908152600260209081526040808320888452909152808220805460ff191660019081179091555481516340c10f1960e01b81528a85166004820152602481018a905291519316926340c10f199260448084019391929182900301818387803b1580156103d657600080fd5b505af11580156103ea573d6000803e3d6000fd5b50600192506103f7915050565b7fce5a9b86edd3b998c3948a7934c7ecf7dba73c4c5bcf56cf576bca4aa2beeb308888884289898960405180886001600160a01b03168152602001876001600160a01b03168152602001868152602001858152602001848152602001806020018281038252848482818152602001925080828437600083820152604051601f909101601f19169092018290039a509098505050505050505050a250505050505050565b600260209081526000928352604080842090915290825290205460ff1681565b33600090815260026020908152604080832086845290915290205460ff161561052a576040805162461bcd60e51b815260206004820152601a60248201527f5452414e534645525f414c52454144595f50524f434553534544000000000000604482015290519081900360640190fd5b336000818152600260209081526040808320878452909152808220805460ff19166001908117909155548151632770a7eb60e21b815260048101949094526024840188905290516001600160a01b039190911692639dc29fac92604480830193919282900301818387803b1580156105a157600080fd5b505af11580156105b5573d6000803e3d6000fd5b50600092506105c2915050565b7fce5a9b86edd3b998c3948a7934c7ecf7dba73c4c5bcf56cf576bca4aa2beeb303387874288888860405180886001600160a01b03168152602001876001600160a01b03168152602001868152602001858152602001848152602001806020018281038252848482818152602001925080828437600083820152604051601f909101601f19169092018290039a509098505050505050505050a25050505050565b6000546001600160a01b031681565b6001546001600160a01b031681565b604080517f19457468657265756d205369676e6564204d6573736167653a0a333200000000602080830191909152603c8083019490945282518083039094018452605c909101909152815191012090565b6000806000806106e185610755565b604080516000815260208082018084528c905260ff8616828401526060820185905260808201849052915194975092955090935060019260a080840193601f198301929081900390910190855afa158015610740573d6000803e3d6000fd5b5050604051601f190151979650505050505050565b6000806000835160411461076857600080fd5b5050506020810151604082015160609092015160001a9290919056fea264697066735822122090573492efff6a2484f386de067aa98cb5dba645f08b003f6e302807cbd8cbb764736f6c63430007060033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100575760003560e01c8063525557021461005c5780637cc70240146100f35780638a94b05f146101335780638da5cb5b146101bf578063fc0c546a146101e3575b600080fd5b6100f1600480360360a081101561007257600080fd5b6001600160a01b03823581169260208101359091169160408201359160608101359181019060a0810160808201356401000000008111156100b257600080fd5b8201836020820111156100c457600080fd5b803590602001918460018302840111640100000000831117156100e657600080fd5b5090925090506101eb565b005b61011f6004803603604081101561010957600080fd5b506001600160a01b03813516906020013561049a565b604080519115158252519081900360200190f35b6100f16004803603608081101561014957600080fd5b6001600160a01b03823516916020810135916040820135919081019060808101606082013564010000000081111561018057600080fd5b82018360208201111561019257600080fd5b803590602001918460018302840111640100000000831117156101b457600080fd5b5090925090506104ba565b6101c7610663565b604080516001600160a01b039092168252519081900360200190f35b6101c7610672565b600061024c8787878760405160200180856001600160a01b031660601b8152601401846001600160a01b031660601b815260140183815260200182815260200194505050505060405160208183030381529060405280519060200120610681565b9050866001600160a01b03166102988285858080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152506106d292505050565b6001600160a01b0316146102e5576040805162461bcd60e51b815260206004820152600f60248201526e57524f4e475f5349474e415455524560881b604482015290519081900360640190fd5b6001600160a01b038716600090815260026020908152604080832087845290915290205460ff161561035e576040805162461bcd60e51b815260206004820152601a60248201527f5452414e534645525f414c52454144595f50524f434553534544000000000000604482015290519081900360640190fd5b6001600160a01b038088166000908152600260209081526040808320888452909152808220805460ff191660019081179091555481516340c10f1960e01b81528a85166004820152602481018a905291519316926340c10f199260448084019391929182900301818387803b1580156103d657600080fd5b505af11580156103ea573d6000803e3d6000fd5b50600192506103f7915050565b7fce5a9b86edd3b998c3948a7934c7ecf7dba73c4c5bcf56cf576bca4aa2beeb308888884289898960405180886001600160a01b03168152602001876001600160a01b03168152602001868152602001858152602001848152602001806020018281038252848482818152602001925080828437600083820152604051601f909101601f19169092018290039a509098505050505050505050a250505050505050565b600260209081526000928352604080842090915290825290205460ff1681565b33600090815260026020908152604080832086845290915290205460ff161561052a576040805162461bcd60e51b815260206004820152601a60248201527f5452414e534645525f414c52454144595f50524f434553534544000000000000604482015290519081900360640190fd5b336000818152600260209081526040808320878452909152808220805460ff19166001908117909155548151632770a7eb60e21b815260048101949094526024840188905290516001600160a01b039190911692639dc29fac92604480830193919282900301818387803b1580156105a157600080fd5b505af11580156105b5573d6000803e3d6000fd5b50600092506105c2915050565b7fce5a9b86edd3b998c3948a7934c7ecf7dba73c4c5bcf56cf576bca4aa2beeb303387874288888860405180886001600160a01b03168152602001876001600160a01b03168152602001868152602001858152602001848152602001806020018281038252848482818152602001925080828437600083820152604051601f909101601f19169092018290039a509098505050505050505050a25050505050565b6000546001600160a01b031681565b6001546001600160a01b031681565b604080517f19457468657265756d205369676e6564204d6573736167653a0a333200000000602080830191909152603c8083019490945282518083039094018452605c909101909152815191012090565b6000806000806106e185610755565b604080516000815260208082018084528c905260ff8616828401526060820185905260808201849052915194975092955090935060019260a080840193601f198301929081900390910190855afa158015610740573d6000803e3d6000fd5b5050604051601f190151979650505050505050565b6000806000835160411461076857600080fd5b5050506020810151604082015160609092015160001a9290919056fea264697066735822122090573492efff6a2484f386de067aa98cb5dba645f08b003f6e302807cbd8cbb764736f6c63430007060033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 19,
        "contract": "contracts/BridgeBSC.sol:BridgeBSC",
        "label": "owner",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 21,
        "contract": "contracts/BridgeBSC.sol:BridgeBSC",
        "label": "token",
        "offset": 0,
        "slot": "1",
        "type": "t_contract(IToken)311"
      },
      {
        "astId": 27,
        "contract": "contracts/BridgeBSC.sol:BridgeBSC",
        "label": "processedNonces",
        "offset": 0,
        "slot": "2",
        "type": "t_mapping(t_address,t_mapping(t_uint256,t_bool))"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_contract(IToken)311": {
        "encoding": "inplace",
        "label": "contract IToken",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_mapping(t_uint256,t_bool))": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => mapping(uint256 => bool))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_uint256,t_bool)"
      },
      "t_mapping(t_uint256,t_bool)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => bool)",
        "numberOfBytes": "32",
        "value": "t_bool"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}